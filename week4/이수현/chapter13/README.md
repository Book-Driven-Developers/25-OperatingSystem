# Chapter13 - 교착상태 (DeadLock)
## 13-1 교착상태란
### 배경: 식사하는 철학자 문제
#### 상황
  + **철학자** 5명이 파스타 5개와 **포크** 5개가 놓여져 있는 테이블에 앉아있음
#### 식사 규칙
  + 계속 생각을 하다가 왼쪽 포크가 사용 가능하면 집어든다.
  + 계속 생각을 하다가 오른쪽 포크가 사용 가능하면 집어든다.
  + 왼쪽과 오른쪽 포크를 모두 집어들어야지만 정해진 시간동안 식사 가능하다.
  + 식사가 끝나면 오른쪽 포크를 내려놓는다.
  + 오른쪽 포크를 내려놓은 뒤 왼쪽 포크를 내려놓는다. 
#### 문제
  + 모든 철학자들이 서로 포크를 내려놓을 때까지 기다리게 됨 -> 교착상태!
### 교착 상태란?
<img width="521" height="226" alt="Image" src="https://github.com/user-attachments/assets/2014c61c-1a28-4b11-83ed-f9de0a8e9a99" />

+ 일어나지 않을 사건을 기다리며 진행이 멈춰버리는 현상
+ 각 프로세스가 서로가 필요로하는 자원을 가지고 있는 상황

### 교착상태 발생 상황 표현 방법: 자원 할당 그래프
+ 교착 상태 발생 조건을 파악할 수 있는 그래프
  + 어떤 프로세스가 어떤 자원을 할당 받아 사용중인지 확인 가능
  + 어떤 프로세스가 어떤 자원을 기다리고 있는지 확인 가능
#### How to Draw?
  <img width="525" height="266" alt="Image" src="https://github.com/user-attachments/assets/442c9ce5-9e17-498b-9906-33410c6a8076" />
  
  + **프로세스는 원**으로, **자원의 종류는 사각형**으로 표현
  + 사용할 수 있는 **자원의 개수**는 자원 사격형 내에 **점**으로 표현
  + 특정 프로세스가 특정 자원을 **사용중이라면, 자원 -> 프로세스로 화살표** 표시
  + 특정 프로세스가 어떤 자원을 **기다리고 있다면, 프로세스 -> 자원으로 화살표** 표시
#### 교착상태가 발생한 그래프
<img width="395" height="212" alt="Image" src="https://github.com/user-attachments/assets/a0ea34c2-550e-43d4-b0f3-c0d1c1c1301b" />

+ 자원 할당 그래프가 **사이클**을 형성하면 교착상태 발생!
### 교착상태 발생 조건
> 다음 4가지 조건을 모두 만족하면 교착 상태 발생 가능
> 
> 다음 4가지 중 하나라도 불만족 시, 교착 상태 발생 X
#### 1. 상호배제
+ 한 프로세스가 사용하는 자원을 다른 프로세스가 사용할 수 없는 상태
#### 2. 점유와 대기
+ 자원을 할당 받은 상태에서 다른 자원을 할당 받기를 기다리는 상태
#### 3. 비선점
+ 어떤 프로세스도 다른 프로세스의 자원을 강제로 빼앗지 못하는 상태
#### 4. 원형 대기
+ 프로세스들이 원의 형태로 자원을 대기하는 상태

---
## 13-2 교착상태 해결방법
