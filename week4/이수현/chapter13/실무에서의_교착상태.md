# 현실에서의 교착상태 가능성
## 일반적인 예시
### 1. 긴 트랜잭션 + 외부 호출/IO
+ 트랜잭션을 열어둔 채로 결제 API 호출, IoT 통신, S3 업로드 같은 작업을 끼워 넣으면 락 유지 시간이 길어지고,
+ 그 사이에 다른 트랜잭션들이 같은 행/테이블 락을 잡으려다가 대기 꼬리 + 교착 확률 상승
### 2. 갭락/넥스트키락 + 범위 조건
+ InnoDB에서 SELECT ... FOR UPDATE / UPDATE ... WHERE range로 범위를 잡을 때
+ 인덱스/조건에 따라 기대보다 넓게 잠금(Next-Key Lock) → 다른 트랜잭션과 엉켜 교착
### 3. 애플리케이션 레벨 락(분산락/뮤텍스) + DB락이 섞임
+ 예: Redis 분산락 잡고 DB 업데이트 → 다른 요청은 DB 먼저 잡고 Redis 잡음
+ 락 종류가 섞이고 순서가 다르면 교착처럼 굳어버림
