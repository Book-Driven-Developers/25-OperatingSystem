# 1. 운영체제를 알아야 하는 이유
## 운영체제
모든 프로그램은 실행되기 위해 반드시 자원이 필요하다.

운영체제 : 실행할 프로그램에 필요한 자원을 할당하고, 프로그램이 올바르게 실행되도록 돕는 특별한 프로그램

운영체제는 실행할 프로그램을 메모리에 적재하고, 더 이상 실행되지 않는 프로그램을 메모리에서 삭제하며 지속적으로 메모리 자원을 관리한다.

응용 프로그램에 자원을 효율적으로 배분하고, 실행할 프로그램들이 지켜야 할 규칙을 만들어 컴퓨터 시스템을 관리한다.

운영체제는 메모리 내 **커널 영역**에 따로 적재되어 실행됨

커널 영역을 제외한 사용자가 이용하는 응용 프로그램이 적재되는 영역 : 사용자 영역
## 운영체제를 알아야 하는 이유
운영체제를 깊이 이해하면 운영체제가 우리에게 건네는 말을 제대로 이해할 수 있고, 운영체제에 제대로 명령할 수 있다.

대표적인 대화 예시 - 오류 메시지

# 2. 운영체제의 큰 그림
## 커널
운영체제의 핵심 서비스를 담당하는 부분

커널에 포함되지 않는 서비스 : 사용자 인터페이스
- 그래픽 유저 인터페이스 GUI
- 커맨드 라인 인터페이스 CLI
## 이중 모드와 시스템 호출

### 이중 모드
사용자가 실행하는 응용 프로그램이 하드웨어 자원에 직접 접근하는 것을 방지함

응용 프로그램들이 자원에 접근하려고 할 때 운영체제를 통해서만 접근 가능

CPU가 명령어를 실행하는 모드를 **사용자 모드**와 **커널 모드**로 구분
- 사용자 모드 : 운영체제 서비스를 제공받을 수 없는 실행 모드, 커널 영역의 코드를 실행할 수 없는 모드, 자원 접근 불가
- 커널 모드 : 운영체제 서비스를 제공받을 수 있는 실행 모드, 자원에 접근하는 명령어 실행 가능

#### 가상 머신
소프트웨어적으로 만들어낸 가상 컴퓨터

가상 머신을 설치하여 새로운 운영체제와 응용 프로그램 설치 및 실행 가능

가상화를 지원하는 CPU는 하이퍼바이저 모드로 응용 프로그램들이 운영체제 서비스를 받는다.

### 시스템 호출
사용자 모드로 실행되는 프로그램은 시스템 호출을 통해 커널 모드로 전환하여 운영체제 서비스를 제공받을 수 있음

소프트웨어 인터럽트에 해당

- 프로세스 관리 : fork(), execve(), exit(), waitpid()
- 파일 관리 : open(), close(), read(), write(), stat()
- 디렉터리 관리 : chdir(), mkdir(), rmdir()
- 파일 시스템 관리 : mount(), unmount()

#### 작동 방식
1. 응용 프로그램이 시스템 호출 발생시켜 커널 모드로 전환
2. 운영체제 코드 실행
3. 다시 사용자 모드로 복귀하여 실행

## 운영체제의 핵심 서비스
- 프로세스 관리
- 자원 접근 및 할당
- 파일 시스템 관리

### 프로세스 관리
프로세스 : 실행 중인 프로그램

하나의 CPU는 한 번에 하나의 프로세스만 실행할 수 있기에 CPU는 이 프로세스들을 번갈아 가며 실행

여러 프로세스가 동시에 실행되는 환경에서 **프로세스 동기화** 필수적, **교착 상태** 해결해야 함

### 자원 접근 및 할당
#### CPU
CPU 스케줄링 : 프로세스들에 공정하게 CPU를 할당하기 위해 어떤 프로세스부터 CPU를 이용하게 할 것인지, 얼마나 오래 CPU를 이용하게 할지를 결정
#### 메모리
새로운 프로세스가 적재될 때마다 크기를 고려하여 어느 주소에 적재해야 할지를 결정해야 함
#### 입출력장치
입출력장치가 CPU에 하드웨어 인터럽트 요청 신호를 보내면 CPU는 하던 일을 잠시 백업한 뒤 커널 영역에 있는 **인터럽트 서비스 루틴** 실행

### 파일 시스템 관리



