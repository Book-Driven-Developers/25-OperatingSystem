#  Chapter 09 운영체제 시작하기

## 9-1) 운영체제를 알아야 하는 이유

### 운영체제란?
프로그램을 실행하기 위해서 시스템 자원이 필요한다. 이때 이 자원을 하드웨어가 제공해준다. 즉 하드웨어 === 자원이라고 할 수 있다.

운영체제 또한 메모리가 할당되어 실행되는 프로그램으로, 컴퓨터가 작동하기 위해 무조건 필요한 프로그램으로 컴퓨터가 켜질 때마다 메모리 내의 커널 영역이라는 공간에 할당된다.

커널영역을 제외한 나머지 공간은 사용자 영역이라 한다.

운영체제는 사용자 영역(메모리)에 적재적소로 프로그램을 적재하고, 삭제한다.
또한 프로그램을 실행하려면 메모리에 적제된 프로그램에서 CPURK 코드를  읽고 명령을 내려야 하는데, 이 역할도 운영체제가 한다.

### 운영체제를 알아야 하는 이유
운영체제를 깊이 이해해야 운영체제가 우리한테 건네는 말을 이해할 수 있게 되고, 운영체제에게 제대로 명령을 내릴 수 있기 때문

## 9-2) 운영체제의 큰 그림
운영체제는 사용자를 위한 프로그램이 아닌 사용자가 실행하는 프로그램을 위한 프로그램이다

### 운영체제의 심장 커널
커널은 자원에 접근하고 조작하는 기능, 프로그램이 올바르고 안전하게 실행되게 하는 기능을 담당하는 운영체제의 핵심 서비스이다.

운영체제가 제공하는 서비스 중 커널에 포함되지 않는 서비스는 대표적으로, 사용자 인터페이스 User Interface 가 있다.
- GUI 그래픽 유저 인터페이스
- CLI 커맨트 달인 인터페이스

### 이중모드와 시스템 호출
운영체제는 사용자가 실행하는 응용 프로그램이 하드웨어 자원에 직접 접근하는 것을 막는다.
응용 프로그램이 CPU, 메모리, 하드 디스크 등에 마음껏 접근하고 조작한다면 자원이 무질서하게 관리되어 컴퓨터 전체에 큰 영향을 끼치는 것을 막기 위함이다.

따라서 OS는 자신을 통해서만 자원에 접근하도록 이중 모드를 구현되어 있다.
이중 모드는 사용자 모드, 커널 모드를 구분하는 방식이다.
- 사용자 모드: 응용 프로그램이 실행되는 모드로, 하드웨어 자원에 접근하기 위해선 시스템 콜을 통해 커널 모드로 전환해야 한다.
- 커널 모드: 하드웨어 자원에 자유롭게 접근할 수 있는 모드로 운영체제는 커널 모드로 실행된다.

시스템 콜은 일종의 인터럽트이다. 대게 입출력장치에 의해 발생하지만, 시스템 콜처럼 특정 명령어에 의해 발생하기도 하며 이를 소프트웨어 인터럽트라고 한다.

일반적으로 응용 프로그램은 실행 과정에서 빈번하게 시스템 콜을 발생시키고 사용자 모드와 커널 모드를 오간다.

### 운영체제의 핵심 서비스
운영체제의 핵심인 커널의 서비스로는 프로세스 관리, 자원 접근 및 할당, 파일 시스템 관리가 있다.

- 프로세스 관리
  - 실행 중인 프로그램을 프로세스라고 한다. 일반적으로 하나의 CPU는 하나의 프로세스만 실행할 수 있기에, 프로세스들을 번걸아가며 실행한다.
  - OS는 이러한 프로세스들을 관리하여 문제 없이 모든 프로세스가 실행되게 한다.
- 자원 접근 및 할당
  - 한정된 자원(메모리, CPU 등등)을 효율적으로 사용하기 위해 자원을 필요로 하는 프로세스에 자원을 할당하고, 해제하는 서비스를 제공한다.
- 파일 시스템 관리
  - 파일 열기/생성/삭제, 디렉토리 등의 파일 시스템을 관리하는 서비스이다.
