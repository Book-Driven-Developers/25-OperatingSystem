# 11-1 CPU 스케줄링 개요

운영체제는 cpu를 어떻게 프로세스에 배분하는지 알아봅시다. 이번 절은 다음 절을 이해하기 위한 배경 지식을 설명하는 절이라고 생각해도 좋습니다.

모든 프로세스는 CPU를 필요로 하고 모든 프로세스는 먼저 CPU를 사용하고 싶어합니다. 이러한 프로세스들에게 공정하고 합리적으로 CPU 자원을 할당하기 위해 운영체제는 어떤 프로세스에 CPU를 할당할지, 어떤 프로세스를 기다리게 할지를 결정합니다.

이렇게 운영체제가 프로세스들에게 공정하고 합리적으로 CPU 자원을 배분하는 것을 CPU 스케줄링(CPU Scheduling)이라고 합니다. CPU를 현명하게 배분하지 못하면 반드시 실행되어야 할 프로세스들이 실행되지 못하거나, 당장 급하지 않은 프로세스들만 주로 실행되는 등 무질서한 상태가 발생할 수도 있기 때문입니다.

## 프로세스 우선순위

아주 단순하게 생각해 봤을 때 CPU를 사용하고 싶어 하는 프로세스들이 차례로 돌아가며 CPU를 이용하게 하는 방법은 좋은 방법이 아닙니다.

그 이유는 프로세스마다 우선순위가 다르기 때문입니다. 우선순위가 높은 프로세스란 빨리 처리해야 하는 프로세스들을 의미합니다. 우선순위가 높은 프로세스에는 대표적으로 입출력 작업이 많은 프로세스가 있습니다. 입출력 작업이 많은 프로세스를 먼저 실행하는 것이 왜 더 효율적일까요?

프로세스는 실행 상태와 대기 상태를 반복하며 실행됩니다. 예를 들어 워드 프로세서는 CPU를 사용하여 명령어를 실행하고, 사용자로부터 입력받은 내용을 보조기억장치에 저장하고, CPU를 사용하여 명령어를 실행하고, 사용자가 입력한 내용을 화면에 출력하는 과정을 반복하며 실행됩니다.

프로세스 종류마다 입출력 작업이 많은 프로세스를 “입출력 집중 프로세스(I/O bound process)”라고 하고, CPU 작업이 많은 프로세스를 “CPU 집중 프로세스(CPU bound process)”라고 합니다. 입출력 집중 프로세스는 실행 상태보다는 입출력을 위한 대기 상태에 더 많이 머무르게 됩니다. 반대로 CPU 집중 프로세스는 실행 상태에 더 많이 머무르게 됩니다.

> CPU 버스트와 입출력 버스트
CPU를 이용하는 작업을 CPU 버스트(CPU burst)라 하고, 입출력장치를 기다리는 작업을 입출력 버스트(I/O burst)라 부릅니다. 즉, 프로세스는 일반적으로 CPU 버스트와 입출력 버스트를 반복하며 실행된다고 볼 수 있습니다. 그래서 입출력 집중 프로세스는 입출력 버스트가 많은 프로세스, CPU 집중 프로세스는 CPU 버스트가 많은 프로세스라고 정의할 수 있습니다.
>

CPU 집중 프로세스는 CPU를 많이 사용해야 하는 프로세스이고, 입출력 집중 프로세스는 그렇지 않은 프로세스인데, CPU 집중 프로세스와 입출력 집중 프로세스가 모두 동일한 빈도로 CPU를 사용하는 것은 비합리적입니다. (CPU는 입출력 장치를 쓸 때 ‘대기’ 상태가 됨)

CPU 집중 프로세스와 입출력 집중 프로세스가 동시에 CPU 자원을 요구했다고 가정해 봅시다. 이러한 경우 입출력 집중 프로세스를 가능한 한 빨리 실행시켜 입출력장치를 끊임없이 작동시키고, 그 다음 CPU 집중 프로세스에 집중적으로 CPU를 할당하는 것이 더 효율적입니다. 입출력장치가 입출력 작업을 완료하기 전까찌는 입출력 집중 프로세스는 어차피 대기 상태가 될 예정이기 때문에 입출력 집중 프로세스를 얼른 먼저 처리해 버리면 다른 프로세스가 CPU를 사용할 수 있기 때문입니다.

> 대기 상태로 빠진 프로세스는 CPU를 점유하지 않기 때문에 CPU를 놀지 않게 할 수 있다.
>

이렇듯 모든 프로세스가 CPU를 차례대로 돌아가며 사용하는 것보다 각각의 상황에 맞게 CPU를 배분하는 것이 더 효율적입니다.